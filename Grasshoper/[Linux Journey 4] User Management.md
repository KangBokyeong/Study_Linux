# [Linux Journey 4] User Management
## 1. Users and Groups
- 각 사용자는 자신의 사용자 특정 파일이 저장되는 자신의 홈 디렉토리를 가지고 있음.
- 이 파일은 대개 / home / username에 있지만 배포마다 다를 수 있음.
- 시스템은 사용자 ID (UID)를 사용하여 사용자를 관리.
- 시스템 구성을 변경하는데 사용하는 명령에 대한 기록이 없음. 
- sudo 사용하는 것 권장.

## 2. root
- su 명령을 사용하여 수퍼 유저로 명령 실행 가능.
- 사용자를 대체하고 사용자 이름이 지정되지 않은 경우 루트 쉘 오픈.
- 이 명령을 사용하여 암호를 알고있는 한 임의의 사용자로 대체 가능.
- 루트에서 모든것을 실행하는 중대한 실수를하는 것이 훨씬 쉬워짐.(=> 실수가 잦아짐.)
- 시스템 구성을 변경하는데 사용하는 명령에 대한 기록이 없음.
- visudo로 파일 편짐 가능.

|명령어(파일명)|기능|
|:-----:|:------:|
|/ etc / sudoers|sudo를 실행할 수 있는 사용자 나열|
|visudo| 파일 편집 |

## 3. /etc/passwd
- 사용자 이름은 실제로 사용자의 ID가 아님!!(꼭 기억할 것!)
- 시스템은 사용자 ID (UID)를 사용하여 사용자를 식별함.

|명령어(파일명)|기능|
|:-----:|:-----:|
|cat /etc/passwd|사용자 목록과 사용자에 대한 세부 정보를 표시|

- 각 행은 한 사용자에 대한 사용자 정보 표시.
- (가장 일반적으로) 루트 사용자가 첫 번째 행으로 표시됨.
- 사용자에 대한 추가 정보를 여러 필드로 나타내어 알려줌.(콜론으로 구분함.)
- 예) root : x : 0 : 0 : root : /root : /bin/bash
  - 표로 살펴보기
  
  |파일명|기능|
  |:-----:|:-----:|
  |root|사용자 이름|
  |x|사용자의 암호|
  |0|사용자 ID|
  |0|그룹 ID|
  |root|GECOS 필드|
  |/root|사용자의 홈 디렉토리|
  |/bin/bash|사용자 쉘|
    
  - 사용자의 암호: 암호는 실제로 이 파일에 저장되지 않음. 일반적으로 / etc / shadow 파일에 저장됨. 
    - "x": 암호가 / etc / shadow 파일에 저장되어 있음을 나타냄
    - "*": 사용자가 로그인 액세스 권한이 없다를 의미(사용자가 암호를 가지고 있지 않음을 의미.)
  - GECOS 필드: 일반적으로 실제 이름이나 전화 번호와 같은 사용자 또는 계정에 대한 주석을 남길 때 사용됨. 또한 쉼표로 구분됨.
  - 사용자 쉘: 쉘에 대해 많은 사용자가 bash를 디폴트로 사용하는 것을 볼 수 있음.
  
- (일반적으로) 사용자 설정 페이지에서 사람 만 볼 수 있음.
- 그러나 / etc / passwd에는 다른 사용자가 포함되어 있음.
- 사용자는 실제로 다른 권한을 가진 프로세스를 실행하는 시스템에만 있음을 기억.
- 때로는 미리 결정된 권한으로 프로세스를 실행하려고함.
  - 예를 들어, 데몬 사용자는 데몬 프로세스에 사용.
- 사용자를 추가하고 vipw 도구를 사용하여 정보를 수정하려는 경우, / etc / passwd 파일을 직접 편집 가능.

## 4. /etc/shadow
- 사용자 인증에 대한 정보를 저장하는데 사용
- 수퍼 유저 읽기 권한 필요(sudo)

|명령어(파일명)|기능|
|:-----:|:-----:|
|sudo cat / etc / shadow|사용자 인증에 대한 정보 저장|

- 각 행은 한 사용자에 대한 사용자 정보 표시.
- (가장 일반적으로) 루트 사용자가 첫 번째 행으로 표시됨.
- 사용자에 대한 추가 정보를 여러 필드로 나타내어 알려줌.(콜론으로 구분함.)
- 예) root : MyEPTEa $ 6Nonsense : 15000 : 0 : 99999 : 7 : : :
  - 표로 살펴보기
  
  |파일명|기능|
  |:-----:|:-----:|
  |root|사용자 이름|
  |MyEPTEa $ 6Nonsense|암호화된 암호|
  |15000|마지막으로 변경된 암호의 날짜|
  |0|최소 암호 사용 기간|
  |99999|최대 암호 사용 기간|
  |7|암호 경고 기간|
  | (위 예시는 빈공간) |암호 비 활동 기간|
  | (위 예시는 빈공간) |계정 만료일|
  | (위 예시는 빈공간) |나중에 사용할 수 있도록 예약된 필드|
  
  - 마지막으로 변경된 암호의 날짜: 1970 년 1 월 1 일 이후의 일 수로 표시됨. 0 인 경우 사용자가 다음에 로그인 할 때 암호를 변경해야 함을 의미함.
  - 최소 암호 사용 기간: 사용자가 암호를 다시 변경하기 전 대기해야하는 일 수
  - 최대 암호 사용 기간: 사용자가 암호를 변경해야하는 최대 일 수
  - 암호 경고 기간: 암호가 만료되기 전의 일 수
  - 암호 비 활동 기간: 암호로 로그인 한 후 암호로 로그인 할 수 있는 일 수
  - 계정 만료일: 사용자가 로그인 할 수 없는 날짜

## 5. /etc/group
- 사용자 관리에 사용되는 또 다른 파일
- 다른 권한을 가진 다른 그룹 허용

|명령어(파일명)|기능|
|:-----:|:-----:|
|cat / etc / group|다른 권한을 가진 다른 그룹 허용|

- 각 행은 한 사용자에 대한 사용자 정보 표시.
- (가장 일반적으로) 루트 사용자가 첫 번째 행으로 표시됨.
- 사용자에 대한 추가 정보를 여러 필드로 나타내어 알려줌.(콜론으로 구분함.)
- 예) root : * : 0 : pete
  - 표로 살펴보기
  
  |파일명|기능|
  |:-----:|:-----:|
  |root|그룹 이름|
  | * |그룹 암호|
  |0|그룹 ID (GID)|
  |pete|사용자 목록|
  
  - 그룹 암호: sudo와 같은 높은 권한 사용. 그룹 암호 설정 필요 :x:. 기본값( * )
  - 사용자 목록: 특정 그룹에 원하는 사용자의 수동 지정 가능.
## 6. User Management Tools
### Adding Users(사용자 추가)
- adduser 또는 useradd 명령 사용 가능.
- 홈 디렉토리 만들기 등의 유용한 기능이 있음.

|명령어(파일명)|기능|
|:-----:|:-----:|
|sudo useradd bob|사용자 추가|

### Removing Users(사용자 제거)
- 사용자 제거 시 사용

|명령어(파일명)|기능|
|:-----:|:-----:|
|sudo userdel bob|사용자 제거|

### Changing Passwords(암호 변경)
- 자신이나 다른 사용자의 암호 변경 가능(루트 사용자인 경우)

|명령어(파일명)|기능|
|:-----:|:-----:|
|passwd bob|암호 변경|
